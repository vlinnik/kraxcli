Обмен файлами с устройством
===========================


get -- Скачать проект из контроллера
------------------------------------

Позволяет скачать файл с контроллера или все содержимое, если не указать файл

.. code-block:: bash    

    kraxcli -w . fs get main.py 

Опции команды get
~~~~~~~~~~~~~~~~~

- --dir <путь>  — указать директорию из которой получить файлы (по умолчанию корневая директория)

put -- Закачать проект в контроллер
-----------------------------------

Позволяет закачать файл на контроллер или все содержимое проекта, если не указать файл

.. code-block:: bash    

    kraxcli -w . fs put main.py 

Опции команды put
~~~~~~~~~~~~~~~~~

- --dir <путь>  — указать директорию из которой получить файлы (по умолчанию корневая директория)
- --reset — перезагрузить контроллер после закачки файлов

ls -- Список файлов
-------------------

.. code-block:: bash    

    kraxcli -w . fs ls data

Вывести список файлов в контроллере по пути. Если путь не указан, то по корневой директории.

rm -- Удалить файл(ы) из контроллера
------------------------------------                                                                  │

Позволяет удалить файл(ы) из контроллера по маске/пути.

.. code-block:: bash    

    kraxcli -w . fs rm data/krax.yaml

tree -- Структура файловой системы  
----------------------------------

Проверка содержимого файловой системы контроллера в виде дерева.

.. code-block:: bash    

    kraxcli -w . fs tree 

На выходе будет ASCII-дерево файловой системы контроллера, например:

::

    ├── boot.py
    ├── data
    │   ├── krax.csv
    │   └── krax.json
    ├── krax.py
    ├── project.py
    └── webrepl_cfg.py

diff -- Показать различия контроллер<->проект
---------------------------------------------

Сравнить файлы и структуру проекта в контроллере и в локальном проекте можно с 
помощью команды diff с выводом отличий в стиле unified diff

.. code-block:: bash    

    kraxcli -w . fs diff

В результате будет выведен список отличающихся файлов, например:

::

    Показать разницу проекта с контроллером...
    dsync: syncing path ./:
    dsync: dirs: OK[✔]                                                                                           
    dsync: syncing modified files (1):                                                                           
    - ./test.py [0.05 kB]
    diff --git a/./~test.py b/./test.py
    index 75d9766..a5a487c 100644
    --- a/./~test.py
    +++ b/./test.py
    @@ -1 +1,3 @@
    --- print('hello world')
    +++ print('Hello world!')

    +++ print('end of program')

    ./test.py -> usbdev:./test.py

    ./test.py [0.05 kB]
    0 new files, 1 file changed, 0 files deleted

compare -- Сравнить контроллер<->проект
---------------------------------------  

Сравнить файлы и структуру проекта в контроллере и в локальном проекте можно с 
помощью команды compare.

.. code-block:: bash    

    kraxcli -w . fs compare

В результате будет выведен список отличающихся файлов, например:

::

    Показать разницу проекта с контроллером...
    dsync: syncing path ./:
    dsync: dirs: OK[✔]                                                                                           
    dsync: syncing new files (1):                                                                                
    - ./test.py [0.02 kB]

    ./test.py -> usbdev:./test.py

    ./test.py [0.02 kB]
    1 new file, 0 files changed, 0 files deleted
